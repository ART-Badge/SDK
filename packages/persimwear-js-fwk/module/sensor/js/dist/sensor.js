"use strict";var dcmlib=require("dcm"),emqlib=require("emq");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var data_pool,dcmlib__default=_interopDefaultLegacy(dcmlib),emqlib__default=_interopDefaultLegacy(emqlib),ID_ACCE_ON=769,ID_ACCE_ID=770,ID_ACCE_OFF=772,ID_ACCE_PERIOD=773,ID_GYRO_ON=785,ID_GYRO_ID=786,ID_GYRO_OFF=788,ID_GYRO_PERIOD=789,ID_MAG_ON=801,ID_MAG_ID=802,ID_MAG_OFF=804,ID_MAG_PERIOD=805,ID_TEMP_ON=817,ID_TEMP_ID=818,ID_TEMP_OFF=820,ID_TEMP_PERIOD=821,ID_HUMI_ON=833,ID_HUMI_ID=834,ID_HUMI_OFF=836,ID_HUMI_PERIOD=837,ID_BARO_ON=849,ID_BARO_ID=850,ID_BARO_OFF=852,ID_BARO_PERIOD=853,ID_LIGHT_ON=865,ID_LIGHT_ID=866,ID_LIGHT_OFF=868,ID_LIGHT_PERIOD=869,ID_PROX_ON=881,ID_PROX_ID=882,ID_PROX_OFF=884,ID_PROX_PERIOD=885,ID_HR_ON=897,ID_HR_ID=898,ID_HR_OFF=900,ID_HR_PERIOD=901,ID_TVOC_ON=913,ID_TVOC_ID=914,ID_TVOC_OFF=916,ID_TVOC_PERIOD=917,ID_NOISE_ON=929,ID_NOISE_ID=930,ID_NOISE_OFF=932,ID_NOISE_PERIOD=933,ID_STEP_ON=945,ID_STEP_ID=946,ID_STEP_OFF=948,ID_STEP_PERIOD=949,ID_FORCE_ON=961,ID_FORCE_ID=962,ID_FORCE_OFF=964,ID_FORCE_PERIOD=965,ID_SPO2_ON=977,ID_SPO2_ID=978,ID_SPO2_OFF=980,ID_SPO2_PERIOD=981,emq_acce_channel="sens.0",emq_gyro_channel="sens.1",emq_mag_channel="sens.2",emq_temp_channel="sens.3",emq_humi_channel="sens.4",emq_baro_channel="sens.5",emq_light_channel="sens.6",emq_prox_channel="sens.7",emq_hr_channel="sens.8",emq_tvoc_channel="sens.9",emq_noise_channel="sens.10",emq_step_channel="sens.11",emq_force_channel="sens.12",emq_spo2_channel="sens.13",dcm_pool_name="sens",dcm_acce_id_name="acceid",dcm_acce_data_name="accedata",dcm_acce_period_name="acceperiod",dcm_gyro_id_name="gyroid",dcm_gyro_data_name="gyrodata",dcm_gyro_period_name="gyroperiod",dcm_mag_id_name="magid",dcm_mag_data_name="magdata",dcm_mag_period_name="magperiod",dcm_temp_id_name="tempid",dcm_temp_data_name="tempdata",dcm_temp_period_name="tempperiod",dcm_humi_id_name="humiid",dcm_humi_data_name="humidata",dcm_humi_period_name="humiperiod",dcm_baro_id_name="baroid",dcm_baro_data_name="barodata",dcm_baro_period_name="baroperiod",dcm_light_id_name="lightid",dcm_light_data_name="lightdata",dcm_light_period_name="lightperiod",dcm_prox_id_name="proxid",dcm_prox_data_name="proxdata",dcm_prox_period_name="proxperiod",dcm_heartrate_id_name="hrid",dcm_heartrate_data_name="hrdata",dcm_heartrate_period_name="hrperiod",dcm_tvoc_id_name="tvocid",dcm_tvoc_data_name="tvocdata",dcm_tvoc_period_name="tvocperiod",dcm_noise_id_name="noiseid",dcm_noise_data_name="noisedata",dcm_noise_period_name="noiseperiod",dcm_step_id_name="stepid",dcm_step_data_name="stepdata",dcm_step_period_name="stepperiod",dcm_force_id_name="forceid",dcm_force_data_name="forcedata",dcm_force_period_name="forceperiod",dcm_spo2_id_name="spo2id",dcm_spo2_data_name="spo2data",dcm_spo2_period_name="spo2period",acce_func_arr=[],gyro_func_arr=[],mag_func_arr=[],temp_func_arr=[],humidity_func_arr=[],baro_func_arr=[],light_func_arr=[],prox_func_arr=[],heartRate_func_arr=[],tvoc_func_arr=[],noise_func_arr=[],step_func_arr=[],force_func_arr=[],spo2_func_arr=[];function dcmSensOnChange(a,_,e){var n={fun:null,pool:null};return null==a?(console.log("dcmSensOnChange: func_arr is null!"),!1):null==_?(console.log("dcmSensOnChange: onChange is null!"),!1):null==e?(console.log("dcmSensOnChange: dcm_name is null!"),!1):(a.forEach(function(e,n,t){if(_==a[n].fun)return console.log("dcm onChange func exists!"),!0}),n.fun=_,n.pool=dcmlib__default.default.Open(dcm_pool_name),n.pool.onChange(e,_),a.push(n),console.log("dcm add onChange OK!"),!0)}function dcmSensOffChange(a,_){return console.log("dcmOffChange"),null==a?(console.log("dcmSensOnChange: func_arr is null!"),!1):null==_?(console.log("dcmSensOnChange: onChange is null!"),!1):(a.forEach(function(e,n,t){if(_==a[n].fun)return a.splice(n,1),console.log("dcmSensOnChange: func_arr removed!"),!0}),!0)}function setSensorPeriod(e,n,t,a){return null==(data_pool=dcmlib__default.default.Open(dcm_pool_name))?(console.log("[setSensorPeriod] : data_pool is null!"),null):(data_pool.setItem(t,a),emqlib__default.default.send(e,n),0)}function setStepCounterSameplePeriod(e){setSensorPeriod(emq_step_channel,ID_STEP_PERIOD,dcm_step_period_name,e)}function getStepCounter(){var e=(data_pool=dcmlib__default.default.Open(dcm_pool_name)).getItem(dcm_step_data_name);return null!=e?e:0}function getStepCounterId(){data_pool=dcmlib__default.default.Open(dcm_pool_name),emqlib__default.default.send(emq_step_channel,ID_STEP_ID);var e=data_pool.getItem(dcm_step_id_name);return null!=e?e:0}function openStepCounter(){return emqlib__default.default.send(emq_step_channel,ID_STEP_ON),!0}function closeStepCounter(){return emqlib__default.default.send(emq_step_channel,ID_STEP_OFF),!0}function onStepChange(e){return dcmSensOnChange(step_func_arr,e,dcm_step_data_name)}function offStepChange(e){return dcmSensOffChange(step_func_arr,e)}function setHeartRateSameplePeriod(e){setSensorPeriod(emq_hr_channel,ID_HR_PERIOD,dcm_heartrate_period_name,e)}function getHeartRate(){var e=(data_pool=dcmlib__default.default.Open(dcm_pool_name)).getItem(dcm_heartrate_data_name);return null!=e?e:0}function getHeartRateId(){data_pool=dcmlib__default.default.Open(dcm_pool_name),emqlib__default.default.send(emq_hr_channel,ID_HR_ID);var e=data_pool.getItem(dcm_heartrate_id_name);return null!=e?e:0}function openHeartRateDetect(){return emqlib__default.default.send(emq_hr_channel,ID_HR_ON),!0}function closeHeartRateDetect(){return emqlib__default.default.send(emq_hr_channel,ID_HR_OFF),!0}function onHeartRateChange(e){return dcmSensOnChange(heartRate_func_arr,e,dcm_heartrate_data_name)}function offHeartRateChange(e){return dcmSensOffChange(heartRate_func_arr,e)}function setTemperatureSameplePeriod(e){setSensorPeriod(emq_temp_channel,ID_TEMP_PERIOD,dcm_temp_period_name,e)}function openTemperature(){return emqlib__default.default.send(emq_temp_channel,ID_TEMP_ON),!0}function closeTemperature(){return emqlib__default.default.send(emq_temp_channel,ID_TEMP_OFF),!0}function getTemperature(){var e=(data_pool=dcmlib__default.default.Open(dcm_pool_name)).getItem(dcm_temp_data_name);return null!=e?e:0}function getTemperatureId(){data_pool=dcmlib__default.default.Open(dcm_pool_name),emqlib__default.default.send(emq_temp_channel,ID_TEMP_ID);var e=data_pool.getItem(dcm_temp_id_name);return null!=e?e:0}function onTemperatureChange(e){return dcmSensOnChange(temp_func_arr,e,dcm_temp_data_name)}function offTemperatureChange(e){return dcmSensOffChange(temp_func_arr,e)}function setHumiditySameplePeriod(e){setSensorPeriod(emq_humi_channel,ID_HUMI_PERIOD,dcm_humi_period_name,e)}function openHumidity(){return emqlib__default.default.send(emq_humi_channel,ID_HUMI_ON),!0}function closeHumidity(){return emqlib__default.default.send(emq_humi_channel,ID_HUMI_OFF),!0}function getHumidity(){var e=(data_pool=dcmlib__default.default.Open(dcm_pool_name)).getItem(dcm_humi_data_name);return null!=e?e:0}function getHumidityId(){data_pool=dcmlib__default.default.Open(dcm_pool_name),emqlib__default.default.send(emq_humi_channel,ID_HUMI_ID);var e=data_pool.getItem(dcm_humi_id_name);return null!=e?e:0}function onHumidityChange(e){return dcmSensOnChange(humidity_func_arr,e,dcm_humi_data_name)}function offHumidityChange(e){return dcmSensOffChange(humidity_func_arr,e)}function setLightSameplePeriod(e){setSensorPeriod(emq_light_channel,ID_LIGHT_PERIOD,dcm_light_period_name,e)}function getLight(){var e=(data_pool=dcmlib__default.default.Open(dcm_pool_name)).getItem(dcm_light_data_name);return null!=e?e:0}function getLightId(){data_pool=dcmlib__default.default.Open(dcm_pool_name),emqlib__default.default.send(emq_light_channel,ID_LIGHT_ID);var e=data_pool.getItem(dcm_light_id_name);return null!=e?e:0}function openLightDetect(){return emqlib__default.default.send(emq_light_channel,ID_LIGHT_ON),!0}function closeLightDetect(){return emqlib__default.default.send(emq_light_channel,ID_LIGHT_OFF),!0}function onLightChange(e){return dcmSensOnChange(light_func_arr,e,dcm_light_data_name)}function offLightChange(e){return dcmSensOffChange(light_func_arr,e)}function setBarometerSameplePeriod(e){setSensorPeriod(emq_baro_channel,ID_BARO_PERIOD,dcm_baro_period_name,e)}function getBarometer(){var e=(data_pool=dcmlib__default.default.Open(dcm_pool_name)).getItem(dcm_baro_data_name);return null!=e?e:0}function getBarometerId(){data_pool=dcmlib__default.default.Open(dcm_pool_name),emqlib__default.default.send(emq_baro_channel,ID_BARO_ID);var e=data_pool.getItem(dcm_baro_id_name);return null!=e?e:0}function openBarometer(){return emqlib__default.default.send(emq_baro_channel,ID_BARO_ON),!0}function closeBarometer(){return emqlib__default.default.send(emq_baro_channel,ID_BARO_OFF),!0}function onBarometerChange(e){return dcmSensOnChange(baro_func_arr,e,dcm_baro_data_name)}function offBarometerChange(e){return dcmSensOffChange(baro_func_arr,e)}function setMagnetometerSameplePeriod(e){setSensorPeriod(emq_mag_channel,ID_MAG_PERIOD,dcm_mag_period_name,e)}function getMagnetometer(){var e=(data_pool=dcmlib__default.default.Open(dcm_pool_name)).getItem(dcm_mag_data_name);return null!=e?e:0}function getMagnetometerId(){data_pool=dcmlib__default.default.Open(dcm_pool_name),emqlib__default.default.send(emq_mag_channel,ID_MAG_ID);var e=data_pool.getItem(dcm_mag_id_name);return null!=e?e:0}function openMagnetometer(){return emqlib__default.default.send(emq_mag_channel,ID_MAG_ON),!0}function closeMagnetometer(){return emqlib__default.default.send(emq_mag_channel,ID_MAG_OFF),!0}function onMagnetometerChange(e){return dcmSensOnChange(mag_func_arr,e,dcm_mag_data_name)}function offMagnetometerChange(e){return dcmSensOffChange(mag_func_arr,e)}function setSPO2SameplePeriod(e){setSensorPeriod(emq_spo2_channel,ID_SPO2_PERIOD,dcm_spo2_period_name,e)}function getSPO2(){var e=(data_pool=dcmlib__default.default.Open(dcm_pool_name)).getItem(dcm_spo2_data_name);return null!=e?e:0}function getSPO2Id(){data_pool=dcmlib__default.default.Open(dcm_pool_name),emqlib__default.default.send(emq_spo2_channel,ID_SPO2_ID);var e=data_pool.getItem(dcm_spo2_id_name);return null!=e?e:0}function openSPO2(){return emqlib__default.default.send(emq_spo2_channel,ID_SPO2_ON),!0}function closeSPO2(){return emqlib__default.default.send(emq_spo2_channel,ID_SPO2_OFF),!0}function onSPO2Change(e){return dcmSensOnChange(spo2_func_arr,e,dcm_spo2_data_name)}function offSPO2Change(e){return dcmSensOffChange(spo2_func_arr,e)}function setAccelerometerSameplePeriod(e){setSensorPeriod(emq_acce_channel,ID_ACCE_PERIOD,dcm_acce_period_name,e)}function getAccelerometerId(){data_pool=dcmlib__default.default.Open(dcm_pool_name),emqlib__default.default.send(emq_acce_channel,ID_ACCE_ID);var e=data_pool.getItem(dcm_acce_id_name);return null!=e?e:0}function getAccelerometerData(){var e=(data_pool=dcmlib__default.default.Open(dcm_pool_name)).getItem(dcm_acce_data_name);return null==e&&(e=[0,0,0]),e}function openAccelerometer(){return emqlib__default.default.send(emq_acce_channel,ID_ACCE_ON),!0}function closeAccelerometer(){return emqlib__default.default.send(emq_acce_channel,ID_ACCE_OFF),!0}function onAccelerometerDataChange(e){return console.log("onAccelerometerDataChange"),dcmSensOnChange(acce_func_arr,e,dcm_acce_data_name)}function offAccelerometerDataChange(e){return console.log("offAccelerometerDataChange"),dcmSensOffChange(acce_func_arr,e)}function setGyroscopeSameplePeriod(e){setSensorPeriod(emq_gyro_channel,ID_GYRO_PERIOD,dcm_gyro_period_name,e)}function getGyroscopeId(){data_pool=dcmlib__default.default.Open(dcm_pool_name),emqlib__default.default.send(emq_gyro_channel,ID_GYRO_ID);var e=data_pool.getItem(dcm_gyro_id_name);return null!=e?e:0}function getGyroscope(){var e=(data_pool=dcmlib__default.default.Open(dcm_pool_name)).getItem(dcm_gyro_data_name);return null==e&&(e=[0,0,0]),e}function openGyroscope(){return emqlib__default.default.send(emq_gyro_channel,ID_GYRO_ON),!0}function closeGyroscope(){return emqlib__default.default.send(emq_gyro_channel,ID_GYRO_OFF),!0}function onGyroscopeChange(e){return console.log("onGyroscopeChange"),dcmSensOnChange(gyro_func_arr,e,dcm_gyro_data_name)}function offGyroscopeChange(e){return console.log("offGyroscopeChange"),dcmSensOffChange(gyro_func_arr,e)}function setTVOCSameplePeriod(e){setSensorPeriod(emq_tvoc_channel,ID_TVOC_PERIOD,dcm_tvoc_period_name,e)}function getTVOCId(){data_pool=dcmlib__default.default.Open(dcm_pool_name),emqlib__default.default.send(emq_tvoc_channel,ID_TVOC_ID);var e=data_pool.getItem(dcm_tvoc_id_name);return null!=e?e:0}function getTVOC(){var e=(data_pool=dcmlib__default.default.Open(dcm_pool_name)).getItem(dcm_tvoc_data_name);return null!=e?e:0}function openTVOC(){return emqlib__default.default.send(emq_tvoc_channel,ID_TVOC_ON),!0}function closeTVOC(){return emqlib__default.default.send(emq_tvoc_channel,ID_TVOC_OFF),!0}function onTVOCChange(e){return dcmSensOnChange(tvoc_func_arr,e,dcm_tvoc_data_name)}function offTVOCChange(e){return dcmSensOffChange(tvoc_func_arr,e)}function setProximitySameplePeriod(e){setSensorPeriod(emq_prox_channel,ID_PROX_PERIOD,dcm_prox_period_name,e)}function getProximityId(){data_pool=dcmlib__default.default.Open(dcm_pool_name),emqlib__default.default.send(emq_prox_channel,ID_PROX_ID);var e=data_pool.getItem(dcm_prox_id_name);return null!=e?e:0}function getProximity(){var e=(data_pool=dcmlib__default.default.Open(dcm_pool_name)).getItem(dcm_prox_data_name);return null!=e?e:0}function openProximity(){return emqlib__default.default.send(emq_prox_channel,ID_PROX_ON),!0}function closeProximity(){return emqlib__default.default.send(emq_prox_channel,ID_PROX_OFF),!0}function onProximityChange(e){return dcmSensOnChange(prox_func_arr,e,dcm_prox_data_name)}function offProximityChange(e){return dcmSensOffChange(prox_func_arr,e)}function setNoiseSameplePeriod(e){setSensorPeriod(emq_noise_channel,ID_NOISE_PERIOD,dcm_noise_period_name,e)}function getNoiseId(){data_pool=dcmlib__default.default.Open(dcm_pool_name),emqlib__default.default.send(emq_noise_channel,ID_NOISE_ID);var e=data_pool.getItem(dcm_noise_id_name);return null!=e?e:0}function getNoise(){var e=(data_pool=dcmlib__default.default.Open(dcm_pool_name)).getItem(dcm_noise_data_name);return null!=e?e:0}function openNoise(){return emqlib__default.default.send(emq_noise_channel,ID_NOISE_ON),!0}function closeNoise(){return emqlib__default.default.send(emq_noise_channel,ID_NOISE_OFF),!0}function onNoiseChange(e){return dcmSensOnChange(noise_func_arr,e,dcm_noise_data_name)}function offNoiseChange(e){return dcmSensOffChange(noise_func_arr,e)}function setForceSameplePeriod(e){setSensorPeriod(emq_force_channel,ID_FORCE_PERIOD,dcm_force_period_name,e)}function getForceId(){data_pool=dcmlib__default.default.Open(dcm_pool_name),emqlib__default.default.send(emq_force_channel,ID_FORCE_ID);var e=data_pool.getItem(dcm_force_id_name);return null!=e?e:0}function getForce(){var e=(data_pool=dcmlib__default.default.Open(dcm_pool_name)).getItem(dcm_force_data_name);return null!=e?e:[0]}function openForce(){return emqlib__default.default.send(emq_force_channel,ID_FORCE_ON),!0}function closeForce(){return emqlib__default.default.send(emq_force_channel,ID_FORCE_OFF),!0}function onForceChange(e){return dcmSensOnChange(force_func_arr,e,dcm_force_data_name)}function offForceChange(e){return dcmSensOffChange(force_func_arr,e)}var sensor={getAccelerometerId:getAccelerometerId,getAccelerometerData:getAccelerometerData,openAccelerometer:openAccelerometer,closeAccelerometer:closeAccelerometer,setAccelerometerSameplePeriod:setAccelerometerSameplePeriod,onAccelerometerDataChange:onAccelerometerDataChange,offAccelerometerDataChange:offAccelerometerDataChange,getGyroscopeId:getGyroscopeId,getGyroscope:getGyroscope,openGyroscope:openGyroscope,closeGyroscope:closeGyroscope,setGyroscopeSameplePeriod:setGyroscopeSameplePeriod,onGyroscopeChange:onGyroscopeChange,offGyroscopeChange:offGyroscopeChange,getMagnetometerId:getMagnetometerId,getMagnetometer:getMagnetometer,openMagnetometer:openMagnetometer,closeMagnetometer:closeMagnetometer,setMagnetometerSameplePeriod:setMagnetometerSameplePeriod,onMagnetometerChange:onMagnetometerChange,offMagnetometerChange:offMagnetometerChange,getTemperatureId:getTemperatureId,getTemperature:getTemperature,openTemperature:openTemperature,closeTemperature:closeTemperature,setTemperatureSameplePeriod:setTemperatureSameplePeriod,onTemperatureChange:onTemperatureChange,offTemperatureChange:offTemperatureChange,getHumidityId:getHumidityId,getHumidity:getHumidity,openHumidity:openHumidity,closeHumidity:closeHumidity,setHumiditySameplePeriod:setHumiditySameplePeriod,onHumidityChange:onHumidityChange,offHumidityChange:offHumidityChange,getBarometerId:getBarometerId,getBarometer:getBarometer,openBarometer:openBarometer,closeBarometer:closeBarometer,setBarometerSameplePeriod:setBarometerSameplePeriod,onBarometerChange:onBarometerChange,offBarometerChange:offBarometerChange,getLightId:getLightId,getLight:getLight,openLightDetect:openLightDetect,closeLightDetect:closeLightDetect,setLightSameplePeriod:setLightSameplePeriod,onLightChange:onLightChange,offLightChange:offLightChange,getProximityId:getProximityId,getProximity:getProximity,openProximity:openProximity,closeProximity:closeProximity,setProximitySameplePeriod:setProximitySameplePeriod,onProximityChange:onProximityChange,offProximityChange:offProximityChange,getHeartRateId:getHeartRateId,getHeartRate:getHeartRate,openHeartRateDetect:openHeartRateDetect,closeHeartRateDetect:closeHeartRateDetect,setHeartRateSameplePeriod:setHeartRateSameplePeriod,onHeartRateChange:onHeartRateChange,offHeartRateChange:offHeartRateChange,getTVOCId:getTVOCId,getTVOC:getTVOC,openTVOC:openTVOC,closeTVOC:closeTVOC,setTVOCSameplePeriod:setTVOCSameplePeriod,onTVOCChange:onTVOCChange,offTVOCChange:offTVOCChange,getNoiseId:getNoiseId,getNoise:getNoise,openNoise:openNoise,closeNoise:closeNoise,setNoiseSameplePeriod:setNoiseSameplePeriod,onNoiseChange:onNoiseChange,offNoiseChange:offNoiseChange,getStepCounterId:getStepCounterId,getStepCounter:getStepCounter,openStepCounter:openStepCounter,closeStepCounter:closeStepCounter,setStepCounterSameplePeriod:setStepCounterSameplePeriod,onStepChange:onStepChange,offStepChange:offStepChange,getForceId:getForceId,getForce:getForce,openForce:openForce,closeForce:closeForce,setForceSameplePeriod:setForceSameplePeriod,onForceChange:onForceChange,offForceChange:offForceChange,getSPO2Id:getSPO2Id,getSPO2:getSPO2,openSPO2:openSPO2,closeSPO2:closeSPO2,setSPO2SameplePeriod:setSPO2SameplePeriod,onSPO2Change:onSPO2Change,offSPO2Change:offSPO2Change};module.exports=sensor;
